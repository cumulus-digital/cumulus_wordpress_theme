{"version":3,"sources":["../../src/js/blocks-imageflipper.js"],"names":["blocks","element","_wp$components","wp","components","PanelBody","Button","Panel","PanelRow","SelectControl","InspectorControls","RangeControl","editor","withSelect","data","select","category","getEntityRecords","hide_empty","cats","console","log","React","createElement","label","value","attributes","options","onChange","cat","setAttributes","blockStyle","backgroundColor","borderRadius","color","padding","textAlign","registerBlockType","title","icon","src","foreground","attribute","default","edit","categories","props","className","style","data-category","length","forEach","push","name","id","save","_ref","window"],"mappings":"0BAGE,SAAUA,EAAQC,GAAU,IAAAC,EAC+CC,GAAGC,WAAxDC,GADMH,EACrBI,OADqBJ,EACbK,MADaL,EACNG,WAAWG,EADLN,EACKM,SAAUC,EADfP,EACeO,cACpCC,GAFqBR,EAC8BS,aAC7BR,GAAGS,OAAzBF,mBACAG,EAAeV,GAAGW,KAAlBD,WAaaA,EAAY,SAAEE,GAAF,MAAgB,CAChDC,SAAUD,EAAQ,QAASE,iBAAkB,WAAY,WAAY,CAAEC,YAAY,MAD/DL,CAXrB,SAAyBM,GAExB,OADAC,QAAQC,IAAI,QAEXC,MAAAC,cAACd,EAAD,CACCe,MAAM,iBACNC,MAAQC,WAAWV,SACnBW,QAAUR,EAAKH,SACfY,SAAW,SAACC,GAAUC,cAAc,CAAEd,SAAUa,SAQxC5B,EAAQsB,cAJnB,IAMIQ,EAAa,CAChBC,gBAAiB,OACjBC,aAAc,MACdC,MAAO,OACPC,QAAS,OACTC,UAAW,UAGZpC,EAAOqC,kBAAmB,kCAAmC,CAC5DC,MAAO,gBACPC,KAAM,CACLC,IAAK,cACLC,WAAY,WAEbzB,SAAU,SACVU,WAAY,CACXV,SAAU,CACT0B,UAAW,SACXC,QAAS,OAGXC,KAAM/B,EAAY,SAAUE,GAC3B,MAAO,CACN8B,WAAY9B,EAAQ,QAASE,iBAAkB,WAAY,cAFvDJ,CAID,SAAUiC,GAId,IAAOA,EAAMD,WACZ,OACCvB,MAAAC,cAAA,MAAA,KACCD,MAAAC,cAAA,MAAA,CAAKwB,UAAYD,EAAMC,UAAN,iBAAqCC,MAAQjB,EAAakB,gBAAgBH,EAAMpB,WAAWV,UAA5G,kBAGAM,MAAAC,cAACb,EAAD,KACCY,MAAAC,cAAClB,EAAD,CAAWiC,MAAM,yBAChBhB,MAAAC,cAACf,EAAD,KAAA,4BASL,GAAiC,IAA5BsC,EAAMD,WAAWK,OACrB,OACC5B,MAAAC,cAAA,MAAA,KACCD,MAAAC,cAAA,MAAA,CAAKwB,UAAYD,EAAMC,UAAN,iBAAqCC,MAAQjB,EAAakB,gBAAgBH,EAAMpB,WAAWV,UAA5G,kBAGAM,MAAAC,cAACb,EAAD,KACCY,MAAAC,cAAClB,EAAD,CAAWiC,MAAM,yBAChBhB,MAAAC,cAACf,EAAD,KAAA,2BASL,IAAIqC,EAAa,CAAE,CAAErB,MAAO,oBAAqBC,MAAO,OAOxD,OANAqB,EAAMD,WAAWM,QAAQ,SAAStB,GACjCgB,EAAWO,KACV,CAAE5B,MAAOK,EAAIwB,KAAM5B,MAAOI,EAAIyB,OAK/BhC,MAAAC,cAAA,MAAA,KACCD,MAAAC,cAAA,MAAA,CAAKwB,UAAYD,EAAMC,UAAN,iBAAqCC,MAAQjB,EAAakB,gBAAgBH,EAAMpB,WAAWV,UAA5G,kBAGAM,MAAAC,cAACb,EAAD,KACCY,MAAAC,cAAClB,EAAD,CAAWiC,MAAM,yBAChBhB,MAAAC,cAACf,EAAD,KACCc,MAAAC,cAACd,EAAD,CACCe,MAAM,kBACNC,MAAQqB,EAAMpB,WAAWV,SACzBW,QAAUkB,EACVjB,SAAW,SAACC,GAAUiB,EAAMhB,cAAe,CAAEd,SAAUa,aAQ9D0B,KAlF4D,SAAAC,GAkFrC,IAAf9B,EAAe8B,EAAf9B,WACP,OACCJ,MAAAC,cAAA,MAAA,CAAKwB,UAAS,gBAAqBE,gBAAgBvB,EAAWV,cAlHhE,CAuHDyC,OAAOtD,GAAGH,OACVyD,OAAOtD,GAAGF","sourcesContent":["/**\n * Custom Gutenberg Block for image flipper\n */\n( function( blocks, element ) {\n\tconst { Button, Panel, PanelBody, PanelRow, SelectControl, RangeControl } = wp.components;\n\tconst { InspectorControls } = wp.editor;\n\tconst { withSelect } = wp.data;\n\n\tfunction categorySelect( cats ) {\n\t\tconsole.log('DING');\n\t\treturn (\n\t\t\t<SelectControl\n\t\t\t\tlabel=\"Image Category\"\n\t\t\t\tvalue={ attributes.category }\n\t\t\t\toptions={ cats.category }\n\t\t\t\tonChange={ (cat) => { setAttributes({ category: cat }) } }\n\t\t\t/>\n\t\t);\n\t}\n\tconst categoryList = withSelect( ( select ) => ( {\n\t\tcategory: select( 'core' ).getEntityRecords( 'taxonomy', 'category', { hide_empty: false } ),\n\t} ) )( categorySelect);\n\n\tconst el = element.createElement;\n\n\tvar blockStyle = {\n\t\tbackgroundColor: '#aaa',\n\t\tborderRadius: '3px',\n\t\tcolor: '#fff',\n\t\tpadding: '20px',\n\t\ttextAlign: 'center'\n\t};\n\n\tblocks.registerBlockType( 'cumulus-gutenberg/image-flipper', {\n\t\ttitle: 'Image Flipper',\n\t\ticon: {\n\t\t\tsrc: 'images-alt2',\n\t\t\tforeground: '#3399cc'\n\t\t},\n\t\tcategory: 'common',\n\t\tattributes: {\n\t\t\tcategory: {\n\t\t\t\tattribute: 'string',\n\t\t\t\tdefault: null,\n\t\t\t},\n\t\t},\n\t\tedit: withSelect( function( select ) {\n\t\t\treturn {\n\t\t\t\tcategories: select( 'core' ).getEntityRecords( 'taxonomy', 'category' )\n\t\t\t};\n\t\t} )( function( props ) {\n\n\t\t\tlet ret;\n\n\t\t\tif ( ! props.categories ) {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={ props.className + ` image-flipper` } style={ blockStyle } data-category={ props.attributes.category }>\n\t\t\t\t\t\t\tImage Flipper!\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t\t<PanelBody title=\"Image Flipper Options\">\n\t\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t\tLoading categories...\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( props.categories.length === 0 ) {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={ props.className + ` image-flipper` } style={ blockStyle } data-category={ props.attributes.category }>\n\t\t\t\t\t\t\tImage Flipper!\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t\t<PanelBody title=\"Image Flipper Options\">\n\t\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t\tNo categories exist!\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlet categories = [ { label: 'Select a category', value: null }];\n\t\t\tprops.categories.forEach(function(cat) {\n\t\t\t\tcategories.push(\n\t\t\t\t\t{ label: cat.name, value: cat.id }\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className={ props.className + ` image-flipper` } style={ blockStyle } data-category={ props.attributes.category }>\n\t\t\t\t\t\tImage Flipper!\n\t\t\t\t\t</div>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody title=\"Image Flipper Options\">\n\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Image Category:\"\n\t\t\t\t\t\t\t\t\tvalue={ props.attributes.category }\n\t\t\t\t\t\t\t\t\toptions={ categories }\n\t\t\t\t\t\t\t\t\tonChange={ (cat) => { props.setAttributes( { category: cat } ) } }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} ),\n\t\tsave( { attributes } ) {\n\t\t\treturn (\n\t\t\t\t<div className={ `image-flipper` } data-category={ attributes.category }></div>\n\t\t\t);\n\t\t}\n\t} );\n}(\n\twindow.wp.blocks,\n\twindow.wp.element\n) );"]}