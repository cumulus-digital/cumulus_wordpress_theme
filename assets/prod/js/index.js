!function(){"use strict";function t(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}var n="object"==typeof global&&global&&global.Object===Object&&global,e="object"==typeof self&&self&&self.Object===Object&&self,o=n||e||Function("return this")(),i=function(){return o.Date.now()},r=o.Symbol,a=Object.prototype,u=a.hasOwnProperty,c=a.toString,l=r?r.toStringTag:void 0;var f=Object.prototype.toString;var s="[object Null]",d="[object Undefined]",p=r?r.toStringTag:void 0;function v(t){return null==t?void 0===t?d:s:p&&p in Object(t)?function(t){var n=u.call(t,l),e=t[l];try{t[l]=void 0;var o=!0}catch(t){}var i=c.call(t);return o&&(n?t[l]=e:delete t[l]),i}(t):function(t){return f.call(t)}(t)}var g="[object Symbol]";var m=NaN,h=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,j=/^0o[0-7]+$/i,w=parseInt;function T(n){if("number"==typeof n)return n;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&v(t)==g}(n))return m;if(t(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=t(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(h,"");var o=y.test(n);return o||j.test(n)?w(n.slice(2),o?2:8):b.test(n)?m:+n}var O="Expected a function",x=Math.max,S=Math.min;function C(n,e,o){var r,a,u,c,l,f,s=0,d=!1,p=!1,v=!0;if("function"!=typeof n)throw new TypeError(O);function g(t){var e=r,o=a;return r=a=void 0,s=t,c=n.apply(o,e)}function m(t){var n=t-f;return void 0===f||n>=e||n<0||p&&t-s>=u}function h(){var t=i();if(m(t))return b(t);l=setTimeout(h,function(t){var n=e-(t-f);return p?S(n,u-(t-s)):n}(t))}function b(t){return l=void 0,v&&r?g(t):(r=a=void 0,c)}function y(){var t=i(),n=m(t);if(r=arguments,a=this,f=t,n){if(void 0===l)return function(t){return s=t,l=setTimeout(h,e),d?g(t):c}(f);if(p)return l=setTimeout(h,e),g(f)}return void 0===l&&(l=setTimeout(h,e)),c}return e=T(e)||0,t(o)&&(d=!!o.leading,u=(p="maxWait"in o)?x(T(o.maxWait)||0,e):u,v="trailing"in o?!!o.trailing:v),y.cancel=function(){void 0!==l&&clearTimeout(l),s=0,r=f=a=l=void 0},y.flush=function(){return void 0===l?c:b(i())},y}var k="Expected a function";!function(n,e,o){var i,r,a,u,c,l,f=n("html"),s=n("body"),d=n("main"),p=n(".masthead"),v=n(".scroll-down-arrow"),g=n(".hero .video-container"),m=n(".hero video");function h(o,i,r,a){void 0===r&&(r=100),void 0===a&&(a=!0),n(document).ready(o),n(e).on(i,function(n,e,o){var i=!0,r=!0;if("function"!=typeof n)throw new TypeError(k);return t(o)&&(i="leading"in o?!!o.leading:i,r="trailing"in o?!!o.trailing:r),C(n,e,{leading:i,maxWait:e,trailing:r})}(o,r,{leading:!0,trailing:!0})),a&&o()}function b(){var t=f.scrollTop();t>0&&t+i.top>=u?(p.addClass("switch"),j()):(y()||m.trigger("play"),p.removeClass("switch")),m.length&&l>.7*r&&n(e).scrollTop()<100?v.fadeIn(200):v.fadeOut(200)}function y(){if(m.length){var t=m.get(0);if(t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2)return!0}return!1}function j(){y()&&m.trigger("pause")}h((function(){r=n(e).height(),a=p.outerHeight(),u=Math.ceil(d.position().top),i={top:Math.abs(f.position().top)+a,bottom:n(e).height()},m.length&&(c=g.outerHeight(),l=g.position().top+c)}),"resize load"),h(b,"scroll resize load"),n(e).blur((function(){j()})),n(e).focus((function(){b()})),n('.hamburger-container, .masthead nav.menu a[href*="#"]').on("click",(function(){s.hasClass("menu-active")?(m.trigger("play"),s.removeClass("menu-active"),p.removeClass("menu-active")):(m.trigger("pause"),s.addClass("menu-active"),p.addClass("menu-active"),p.find(".menu").scrollTop(0))})),v.on("click",(function(t){t.preventDefault(),n("html, body").animate({scrollTop:d.offset().top-a},500)})),n(".pum").on("pumBeforeOpen",(function(){var t=n(this).find(".populate_markets select");if(t.length){var e=n('<option class="loading_markets">Loading markets...</option>');t.append(e),function(t){t=n(t),n.getJSON("https://player.westwoodone.com/stations/stations.ashx",(function(e){var o=[],i=[];e.forEach((function(t){var n=t.city+", "+t.state;o.includes(n)||o.push(n)})),o.sort(),o.forEach((function(t){i.push(n('<option value="'+t+'">'+t+"</option>"))})),t.each((function(){n(this).append(i)})),t.find(".loading_markets").remove()}))}(t)}}))}(jQuery,window.self)}();
//# sourceMappingURL=index.js.map