{"version":3,"sources":["../../src/js/blocks-FORCE.js"],"names":["blocks","element","_wp$components","wp","components","Button","PanelBody","Panel","PanelRow","ToggleControl","_wp$editor","editor","MediaUpload","RichText","_wp$editor2","PlainText","InspectorControls","cards","ColorPalette","createElement","FOCUSED","bg","content","React","RESPONSIBLE","COLLABORATIVE","EMPOWERED","getImageButton","openEvent","attribute","label","class","src","className","alt","style","width","onClick","makeFaces","attributes","faces","card","prop","push","backgroundImage","concat","useColorWash","makeControls","setAttributes","bgControls","_loop","title","id","onSelect","media","sizes","full","url","type","value","render","_ref","open","registerBlockType","icon","foreground","category","default","focusedBackground","responsibleBackground","collaborativeBackground","empoweredBackground","edit","_ref2","checked","onChange","save","_ref3","window"],"mappings":"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","sourcesContent":["/**\n * Custom Gutenberg Block for FORCE flipcards\n */\n( function( blocks, element ) {\n    const { Button, Panel, PanelBody, PanelRow, ToggleControl } = wp.components;\n    const { RichText, MediaUpload, PlainText } = wp.editor;\n    const { InspectorControls, ColorPalette } = wp.editor;\n\n    const el = element.createElement;\n \n    const cards = {\n        FOCUSED: {\n            bg: 'focusedBackground',\n            content: (\n                <p>\n                    We will make every decision, including where we direct our own work efforts,\n                    through the lens of <strong>\"HABU\"</strong> (Is this the \"highest and best use\" of our\n                    resources – our people, our time, our energies and our money?) and will\n                    ensure that we have a thoughtful plan to execute each decision and activity.\n                </p>\n            )\n        },\n        RESPONSIBLE: {\n            bg: 'responsibleBackground',\n            content: (\n                <p>\n                    We will not mistake activity for accomplishment. We will operate as a transparent and\n                    performance-based company, with all of us taking responsibility for our efforts and\n                    outcomes, celebrating our successes and their shepherds, and owning up to — and\n                    learning from — our failures.\n                </p>\n            )\n        },\n        COLLABORATIVE: {\n            bg: 'collaborativeBackground',\n            content: (\n                <p>\n                    We will work across departments and disciplines to proactively support each other's\n                    efforts and endeavors. Silos will be replaced by community; secrets and unresponsiveness\n                    supplanted by constructive communication and responsiveness to each other’s needs. We\n                    will work as a team with shared goals and successes.\n                </p>\n            )\n        },\n        EMPOWERED: {\n            bg: 'empoweredBackground',\n            content: (\n                <p>\n                    We will be empowered as individuals, valued for, and supported in the unique contributions\n                    we each can make. Without exception, we will contribute our talents and time to meeting\n                    challenges, fixing problems and rising to the opportunities before us. We will become more\n                    empowered individually, and therefore more powerful as a whole.\n                </p>\n            )\n        },\n    };\n\n    const getImageButton = ( openEvent, attribute, label ) => {\n        let ret;\n        if ( attribute ) {\n            ret = (\n                <div class=\"flipcard-image\">\n                    <img\n                        src={ attribute }\n                        className=\"flipcard-${ attrib }-bgimage\"\n                        alt=\"vFlipCard Background\"\n                        style={ {\n                            width: \"50%\",\n                        } }\n                    />\n                    <Button\n                        onClick={ openEvent }\n                        className=\"button button-large\"\n                    >\n                        Change { label }\n                    </Button>\n                </div>\n            );\n        } else {\n            ret = (\n                <div className=\"button-container\">\n                    <Button\n                        onClick={ openEvent }\n                        className=\"button button-large\"\n                    >\n                        Choose { label }\n                    </Button>\n                </div>\n            );\n        }\n        return ret;\n    };\n\n    function makeFaces(cards, attributes) {\n        let faces = [];\n        for (let label in cards) {\n            let card = cards[label];\n            let bg = card.bg;\n            let prop = attributes[bg];\n            faces.push(\n                <div className=\"flipcard\">\n                    <div className=\"flipcard-content\">\n                        <div\n                            className=\"flipcard-face\"\n                            style={ {\n                                backgroundImage: prop ? `url(${ prop }` : `none`,\n                            } }\n                        >\n                            { attributes.useColorWash &&\n                                <div class=\"flipcard-colorwash\"></div>\n                            }\n                            <h1>\n                                We are { label }.\n                            </h1>\n                        </div>\n                        <div className=\"flipcard-face\">\n                            <h2>We are { label }.</h2>\n                            { card.content }\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n        return faces;\n    };\n\n    function makeControls(cards, attributes, setAttributes) {\n        let bgControls = [];\n        for (let label in cards) {\n            let card = cards[label];\n            let bg = card.bg;\n            let prop = attributes[bg];\n            bgControls.push(\n                <PanelBody title={ `${ label } Background` } >\n                    <PanelRow>\n                        <MediaUpload\n                            id={ `flipcard-${ label }-bgimage` }\n                            label={ `${ label } Background Image` }\n                            onSelect={\n                                media => {\n                                    setAttributes( { [bg]: media.sizes.full.url } );\n                                }\n                            }\n                            type=\"image\"\n                            value={ prop }\n                            render={ ( { open } ) => getImageButton( open, prop, 'Background Image' ) }\n                        />\n                    </PanelRow>\n                </PanelBody>\n            );\n        }\n        return bgControls;\n    }\n\n    blocks.registerBlockType( 'cumulus-gutenberg/force-values', {\n        title: 'FORCE Values',\n        icon: {\n        \tsrc: 'groups',\n        \tforeground: '#3399cc'\n        },\n        category: 'common',\n        attributes: {\n            useColorWash: {\n                attribute: 'boolean',\n                default: false,\n            },\n            focusedBackground: {\n                attribute: 'string',\n                default: null,\n            },\n            responsibleBackground: {\n                attribute: 'string',\n                default: null,\n            },\n            collaborativeBackground: {\n                attribute: 'string',\n                default: null,\n            },\n            empoweredBackground: {\n                attribute: 'string',\n                default: null,\n            },\n        },\n        edit( { attributes, className, setAttributes } ) {\n            let faces = makeFaces(cards, attributes);\n            let bgControls = makeControls(cards, attributes, setAttributes);\n\n            return (\n                <div className={ `flipcards ${ attributes.useColorWash ? 'flipcards-colorwash' : '' }` }>\n                    { faces }\n                    <InspectorControls>\n                        <PanelBody title=\"Flipcard Options\">\n                            <PanelRow>\n                                <ToggleControl\n                                    label=\"Color Wash Backgrounds\"\n                                    checked={ attributes.useColorWash }\n                                    onChange={\n                                        checked => {\n                                            setAttributes( { useColorWash: checked } );\n                                        }\n                                    }\n                                />\n                            </PanelRow>\n                        </PanelBody>\n                        { bgControls }\n                    </InspectorControls>\n                </div>\n            );\n        },\n        save( { attributes } ) {\n            let faces = makeFaces(cards, attributes);\n            return (\n                <div className={ `flipcards ${ attributes.useColorWash ? 'flipcards-colorwash' : '' }` }>\n                    { faces }\n                </div>\n            );\n        }\n    } );\n}(\n    window.wp.blocks,\n    window.wp.element\n) );"]}