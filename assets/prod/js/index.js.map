{"version":3,"sources":["../../src/js/index.js"],"names":["$","window","undefined","detectionArea","windowHeight","mastheadHeight","mainPos","heroVideoHeight","heroVideoBottom","$html","$body","$main","$masthead","$scrollArrow","$heroVideoContainer","$heroVideo","handleWindowUpdates","func","windowEvents","interval","immediate","document","ready","on","throttle","leading","trailing","height","outerHeight","Math","ceil","position","top","abs","bottom","length","scrollPos","scrollTop","addClass","trigger","removeClass","pos","css","show","hide","showScrollArrow","hasClass","find","jQuery","self"],"mappings":"uEAEC,SAASA,EAAGC,EAAQC,GAEpB,IAOCC,EACAC,EACAC,EACAC,EACAC,EACAC,EAZGC,EAAQT,EAAE,QACbU,EAAQV,EAAE,QACVW,EAAQX,EAAE,QACVY,EAAYZ,EAAE,aACda,EAAeb,EAAE,sBACjBc,EAAsBd,EAAE,0BACxBe,EAAaf,EAAE,eAQhB,SAASgB,EAAoBC,EAAMC,EAAe,qBAAsBC,EAAW,IAAKC,GAAY,GACnGpB,EAAEqB,UAAUC,MAAML,GAClBjB,EAAEC,GAAQsB,GACTL,EACAM,EACCP,EACAE,EACA,CAACM,SAAS,EAAMC,UAAU,KAGxBN,GACHH,IAkCFD,GAbA,WACCZ,EAAeJ,EAAEC,GAAQ0B,SACzBtB,EAAiBO,EAAUgB,cAC3BtB,EAAUuB,KAAKC,KAAKnB,EAAMoB,WAAWC,KACrC7B,EAAgB,CACf6B,IAAKH,KAAKI,IAAIxB,EAAMsB,WAAWC,KAAO3B,EACtC6B,OAAQlC,EAAEC,GAAQ0B,UAEfZ,EAAWoB,SACd5B,EAAkBO,EAAoBc,cACtCpB,EAAkBM,EAAoBiB,WAAWC,IAAMzB,KAGtB,eAmBnCS,GAjBA,WACC,IAAIoB,EAAY3B,EAAM4B,YAIrBD,EAAY,GACZA,EAAYjC,EAAc6B,KAAO1B,GAEjCM,EAAU0B,SAAS,UACnBvB,EAAWwB,QAAQ,WAEnBxB,EAAWwB,QAAQ,QACnB3B,EAAU4B,YAAY,WA5CxB,WACC,GACCzB,EAAWoB,QACX3B,EAAiC,GAAfJ,GAClBJ,EAAEC,GAAQoC,YAAc,IACvB,CACD,IAAII,EAAM,MACNjC,EAAkBJ,IACrBqC,EAAMrC,EAAeI,GAEtBK,EAAa6B,IAAI,CAAER,OAAQO,IAAOE,YAElC9B,EAAa+B,OAmCdC,KAEmC,sBAcpC7C,EAAE,yDAAyDuB,GAC1D,SAbD,WACKb,EAAMoC,SAAS,gBAClB/B,EAAWwB,QAAQ,QACnB7B,EAAM8B,YAAY,eAClB5B,EAAU4B,YAAY,iBAEtBzB,EAAWwB,QAAQ,SACnB7B,EAAM4B,SAAS,eACf1B,EAAU0B,SAAS,eACnB1B,EAAUmC,KAAK,SAASV,UAAU,OA3FrC,CAmGEW,OAAQ/C,OAAOgD","sourcesContent":["import throttle from 'lodash-es/throttle';\n\n(function($, window, undefined) { // eslint-disable-line no-unused-vars\n\n\tvar $html = $('html'),\n\t\t$body = $('body'),\n\t\t$main = $('main'),\n\t\t$masthead = $('.masthead'),\n\t\t$scrollArrow = $('.scroll-down-arrow'),\n\t\t$heroVideoContainer = $('.hero .video-container'),\n\t\t$heroVideo = $('.hero video'),\n\t\tdetectionArea,\n\t\twindowHeight,\n\t\tmastheadHeight,\n\t\tmainPos,\n\t\theroVideoHeight,\n\t\theroVideoBottom;\n\n\tfunction handleWindowUpdates(func, windowEvents = 'resize scroll load', interval = 100, immediate = true) {\n\t\t$(document).ready(func);\n\t\t$(window).on(\n\t\t\twindowEvents,\n\t\t\tthrottle(\n\t\t\t\tfunc,\n\t\t\t\tinterval,\n\t\t\t\t{leading: true, trailing: true}\n\t\t\t)\n\t\t);\n\t\tif (immediate) {\n\t\t\tfunc();\n\t\t}\n\t}\n\n\tfunction showScrollArrow() {\n\t\tif (\n\t\t\t$heroVideo.length &&\n\t\t\theroVideoBottom > windowHeight * 0.8 &&\n\t\t\t$(window).scrollTop() < 100\n\t\t) {\n\t\t\tvar pos = '0vh';\n\t\t\tif (heroVideoBottom < windowHeight) {\n\t\t\t\tpos = windowHeight - heroVideoBottom;\n\t\t\t}\n\t\t\t$scrollArrow.css({ bottom: pos }).show();\n\t\t} else {\n\t\t\t$scrollArrow.hide();\n\t\t}\n\t}\n\n\t// Update height calculations on resize\n\tfunction updateHeights() {\n\t\twindowHeight = $(window).height();\n\t\tmastheadHeight = $masthead.outerHeight();\n\t\tmainPos = Math.ceil($main.position().top);\n\t\tdetectionArea = {\n\t\t\ttop: Math.abs($html.position().top) + mastheadHeight,\n\t\t\tbottom: $(window).height()\n\t\t};\n\t\tif ($heroVideo.length) {\n\t\t\theroVideoHeight = $heroVideoContainer.outerHeight();\n\t\t\theroVideoBottom = $heroVideoContainer.position().top + heroVideoHeight;\n\t\t}\n\t}\n\thandleWindowUpdates(updateHeights, 'resize load');\n\n\tfunction updateOnScroll() {\n\t\tvar scrollPos = $html.scrollTop();\n\n\t\t// Toggle masthead class when main reaches it\n\t\tif (\n\t\t\tscrollPos > 0 &&\n\t\t\tscrollPos + detectionArea.top >= mainPos\n\t\t) {\n\t\t\t$masthead.addClass('switch');\n\t\t\t$heroVideo.trigger('pause');\n\t\t} else {\n\t\t\t$heroVideo.trigger('play');\n\t\t\t$masthead.removeClass('switch');\n\t\t}\n\n\t\tshowScrollArrow();\n\t}\n\thandleWindowUpdates(updateOnScroll, 'scroll resize load');\n\n\tfunction toggleMainMenu() {\n\t\tif ($body.hasClass('menu-active')) {\n\t\t\t$heroVideo.trigger('play');\n\t\t\t$body.removeClass('menu-active');\n\t\t\t$masthead.removeClass('menu-active');\n\t\t} else {\n\t\t\t$heroVideo.trigger('pause');\n\t\t\t$body.addClass('menu-active');\n\t\t\t$masthead.addClass('menu-active');\n\t\t\t$masthead.find('.menu').scrollTop(0);\n\t\t}\n\t}\n\t$('.hamburger-container, .masthead nav.menu a[href*=\"#\"]').on(\n\t\t'click',\n\t\ttoggleMainMenu\n\t);\n\n}(jQuery, window.self));"]}