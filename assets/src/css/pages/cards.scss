.cards {
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	padding: 1em;
	margin-top: 0;

	background-image: url('../images/bg-blue_wave.svg');
	background-position: center 4em;
	background-size: cover;
	background-repeat: no-repeat;

	text-align: center;

	@media (max-width: map-deep($widths, 'small')) {
		padding: 0.5em;
	}

	&.one-columns .card {
		max-width: calc(100vw - 3em);
	}
	&.two-columns .card {
		max-width: calc(50vw - 3em);
	}
	&.three-columns .card {
		max-width: calc(33vw - 3em);
	}
	&.four-columns .card {
		max-width: calc(25vw - 3em);
	}
	&.five-columns .card {
		max-width: calc(20vw - 3em);
	}
	&.six-columns .card {
		max-width: calc(16.6666666667vw - 3em);
	}
	@media (max-width: map-deep($widths, 'medium')) {
		&.one-columns,
		&.two-columns,
		&.three-columns,
		&.four-columns,
		&.five-columns,
		&.six-columns {
			.card {
				max-width: calc(50vw - 3em);
				font-size: 0.75em;
			}
		}
	}
	@media (max-width: map-deep($widths, 'small')) {
		&.one-columns,
		&.two-columns,
		&.three-columns,
		&.four-columns,
		&.five-columns,
		&.six-columns {
			.card {
				max-width: calc(100vw - 3em);
			}
		}
	}

	.card {
		display: grid;
		flex-grow: 1;
		position: relative;
		max-width: calc(25vw - 3em);
		margin: 0.8em;
		padding: 0 0 4.5em;
		overflow: hidden;

		background: #fff;
		box-shadow: 0 0 2em rgba(0,0,0,0.2);
		border: 1px solid rgba(map-deep($colors, 'brand'), 0.2);
		border-radius: 0.6em;

		color: #444;
		text-decoration: none;

		font-size: 0.65rem;

		transition: transform .15s ease-in-out,
					box-shadow .2s ease-in-out,
					color .1s ease-in-out .1s,
					border-color .1s ease-in-out .05s;

		& > * {
			align-self: center;
		}

		@at-root .cards a.card:hover {
			box-shadow: 0 0 2em rgba(0,0,0,0.3);
			border-color: rgba(map-deep($colors, 'brand'), 0.8);
			transform: scale(1.03);
			transform-origin: center center;
		}

		@media (max-width: map-deep($widths, 'small')) {
			max-width: calc(50vw - 3em);
			font-size: 0.5rem;
		}

		img {
			display: block;
			max-width: calc(100% + 2px);
			height: auto;
			margin: 0 0 1em;

			&.icon {
				max-width: 50%;
				border-radius: 50%;
				margin: 1em auto;
			}
			&.padded {
				margin: 1em;
			}
		}

		h3 {
			margin: 1em;
			font-size: 1.8em;
			font-weight: 400;
			color: #333;
		}

		img + h3 {
			margin-top: 0;
		}

		.body {
			margin: 0 1em 1em;
		}

		.permalink {
			display: flex;
			align-items: center;
			justify-content: flex-end;
			flex-wrap: nowrap;

			position: absolute;
			bottom: 1em;
			right: 1em;

			padding: .5em .75em;
			overflow: hidden;
			
			background-color: rgba(map-deep($colors, 'highlight'), 0.1);
			border-radius: 2em;
			color: map-deep($colors, 'brand');

			font-size: 1.2em;
			line-height: 1;
			text-align: right;
			white-space: nowrap;

			transition: all .2s ease-in-out .05s;

			@media (max-width: map-deep($widths, 'small')) {
				right: auto;
				left: 50%;
				transform: translateX(-50%);
			}

			span {
				max-width: 0;
				width: 100%;
				padding-right: 0;
			    overflow: hidden;
			    vertical-align: middle;
			    white-space: nowrap;
			    text-align: right;

			    transition: all .2s ease-in-out .2s;

				@at-root .cards a.card:hover .permalink span {
					max-width: 100%;
					padding-right: 0.5em;
				}

				@media (max-width: map-deep($widths, 'small')) {
					max-width: 100%;
					padding-right: 1em;
				}
			}

			.arrow {
				display: block;
				width: .75em;
				margin: 0;
			}
		}
	}
}